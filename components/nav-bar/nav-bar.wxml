<!-- 自定义导航栏组件 -->
<view class="nav-bar-wrapper">
  <!-- 占位元素 -->
  <view 
    wx:if="{{placeholder && fixed}}" 
    class="nav-bar-placeholder"
    style="height: {{statusBarHeight + navBarHeight}}px;"
  ></view>

  <!-- 导航栏主体 -->
  <view
    class="nav-bar {{fixed ? 'nav-bar-fixed' : ''}} {{border ? 'nav-bar-border' : ''}}"
    style="background-color: {{backgroundColor}}; color: {{textColor}}; opacity: {{opacity}}; {{customStyle}}"
  >
    <!-- 状态栏占位 -->
    <view class="status-bar" style="height: {{statusBarHeight}}px;"></view>

    <!-- 导航栏内容 -->
    <view class="nav-bar-content" style="height: {{navBarHeight}}px;">
      <!-- 左侧区域 -->
      <view class="nav-bar-left" catchtap="stopPropagation">
        <slot name="left">
          <!-- 返回按钮 -->
          <view 
            wx:if="{{showBack && canBack}}" 
            class="nav-btn nav-back"
            catchtap="onBackTap"
          >
            <text class="nav-icon nav-icon-{{backIcon}}"></text>
            <text wx:if="{{backText}}" class="nav-back-text">{{backText}}</text>
          </view>

          <!-- 首页按钮 -->
          <view 
            wx:if="{{showHome}}" 
            class="nav-btn nav-home"
            catchtap="onHomeTap"
          >
            <text class="nav-icon nav-icon-home"></text>
          </view>
        </slot>
      </view>

      <!-- 中间标题区域 -->
      <view class="nav-bar-center">
        <slot name="center">
          <text class="nav-title {{title.length > 8 ? 'nav-title-small' : ''}}">{{title}}</text>
        </slot>
      </view>

      <!-- 右侧区域 -->
      <view class="nav-bar-right" catchtap="stopPropagation">
        <slot name="right"></slot>
      </view>
    </view>
  </view>
</view>
