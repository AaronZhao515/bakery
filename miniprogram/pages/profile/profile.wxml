<!-- ä¼šå‘˜ä¸­å¿ƒé¡µ -->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <view class="user-bg"></view>
    <view class="user-content">
      <view class="user-avatar-wrapper" bindtap="chooseAvatar">
        <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"/>
        <view class="avatar-edit">
          <text class="edit-icon">ğŸ“·</text>
        </view>
      </view>
      <view class="user-info">
        <text class="user-name">{{userInfo.nickName || 'ç‚¹å‡»ç™»å½•'}}</text>
        <view class="member-badge" wx:if="{{userInfo.isLogin}}">
          <image class="badge-icon" src="/images/vip-icon.png" mode="aspectFit"/>
          <text class="badge-text">{{memberInfo.levelName}}</text>
        </view>
      </view>
      <button 
        class="login-btn" 
        wx:if="{{!userInfo.isLogin}}"
        open-type="getUserInfo"
        bindgetuserinfo="onGetUserInfo"
      >
        å¾®ä¿¡ç™»å½•
      </button>
    </view>
    
    <!-- ä¼šå‘˜æƒç›Š -->
    <view class="member-benefits" wx:if="{{userInfo.isLogin}}">
      <view class="benefit-item" wx:for="{{memberInfo.benefits}}" wx:key="index">
        <text class="benefit-icon">{{item.icon}}</text>
        <text class="benefit-text">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- èµ„äº§å¡ç‰‡ -->
  <view class="assets-card" wx:if="{{userInfo.isLogin}}">
    <view class="asset-item" bindtap="goToPoints">
      <text class="asset-value">{{assets.points}}</text>
      <text class="asset-label">ç§¯åˆ†</text>
    </view>
    <view class="asset-divider"></view>
    <view class="asset-item" bindtap="goToCoupon">
      <text class="asset-value">{{assets.coupons}}</text>
      <text class="asset-label">ä¼˜æƒ åˆ¸</text>
    </view>
    <view class="asset-divider"></view>
    <view class="asset-item" bindtap="goToBalance">
      <text class="asset-value">Â¥{{assets.balance}}</text>
      <text class="asset-label">ä½™é¢</text>
    </view>
  </view>

  <!-- è®¢å•å…¥å£ -->
  <view class="menu-card">
    <view class="menu-header" bindtap="goToOrderList">
      <text class="menu-title">æˆ‘çš„è®¢å•</text>
      <view class="menu-more">
        <text class="more-text">æŸ¥çœ‹å…¨éƒ¨</text>
        <text class="arrow">></text>
      </view>
    </view>
    <view class="order-menu">
      <view class="order-menu-item" bindtap="goToOrderList" data-status="0">
        <view class="menu-icon-wrapper">
          <text class="menu-icon">ğŸ’°</text>
          <text class="menu-badge" wx:if="{{orderCounts.pendingPay > 0}}">{{orderCounts.pendingPay}}</text>
        </view>
        <text class="menu-text">å¾…ä»˜æ¬¾</text>
      </view>
      <view class="order-menu-item" bindtap="goToOrderList" data-status="1">
        <view class="menu-icon-wrapper">
          <text class="menu-icon">ğŸ“¦</text>
          <text class="menu-badge" wx:if="{{orderCounts.pendingShip > 0}}">{{orderCounts.pendingShip}}</text>
        </view>
        <text class="menu-text">å¾…å‘è´§</text>
      </view>
      <view class="order-menu-item" bindtap="goToOrderList" data-status="2">
        <view class="menu-icon-wrapper">
          <text class="menu-icon">ğŸšš</text>
          <text class="menu-badge" wx:if="{{orderCounts.pendingReceive > 0}}">{{orderCounts.pendingReceive}}</text>
        </view>
        <text class="menu-text">å¾…æ”¶è´§</text>
      </view>
      <view class="order-menu-item" bindtap="goToOrderList" data-status="3">
        <view class="menu-icon-wrapper">
          <text class="menu-icon">â­</text>
        </view>
        <text class="menu-text">å¾…è¯„ä»·</text>
      </view>
      <view class="order-menu-item" bindtap="goToAfterSale">
        <view class="menu-icon-wrapper">
          <text class="menu-icon">ğŸ”„</text>
        </view>
        <text class="menu-text">é€€æ¬¾/å”®å</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-card">
    <view class="menu-title" style="margin-bottom: 20rpx;">æ›´å¤šæœåŠ¡</view>
    <view class="service-menu">
      <view class="service-item" bindtap="goToAddress">
        <view class="service-icon-wrapper">
          <text class="service-icon">ğŸ“</text>
        </view>
        <text class="service-text">æ”¶è´§åœ°å€</text>
        <text class="arrow">></text>
      </view>
      <view class="service-item" bindtap="goToCoupon">
        <view class="service-icon-wrapper">
          <text class="service-icon">ğŸ«</text>
        </view>
        <text class="service-text">ä¼˜æƒ åˆ¸</text>
        <text class="arrow">></text>
      </view>
      <view class="service-item" bindtap="goToPoints">
        <view class="service-icon-wrapper">
          <text class="service-icon">ğŸ</text>
        </view>
        <text class="service-text">ç§¯åˆ†å•†åŸ</text>
        <text class="arrow">></text>
      </view>
      <view class="service-item" bindtap="goToCollection">
        <view class="service-icon-wrapper">
          <text class="service-icon">â¤ï¸</text>
        </view>
        <text class="service-text">æˆ‘çš„æ”¶è—</text>
        <text class="arrow">></text>
      </view>
      <view class="service-item" bindtap="contactService">
        <view class="service-icon-wrapper">
          <text class="service-icon">ğŸ’¬</text>
        </view>
        <text class="service-text">è”ç³»å®¢æœ</text>
        <text class="arrow">></text>
      </view>
      <view class="service-item" bindtap="goToSettings">
        <view class="service-icon-wrapper">
          <text class="service-icon">âš™ï¸</text>
        </view>
        <text class="service-text">è®¾ç½®</text>
        <text class="arrow">></text>
      </view>
    </view>
  </view>

  <!-- å®¢æœæŒ‰é’® -->
  <button 
    class="contact-btn" 
    open-type="contact"
    bindcontact="onContact"
    style="display: none;"
  ></button>
</view>
