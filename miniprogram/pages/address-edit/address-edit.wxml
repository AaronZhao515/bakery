<!-- 地址编辑页 -->
<view class="container">
  <view class="form-card">
    <!-- 联系人 -->
    <view class="form-item">
      <text class="form-label">联系人</text>
      <input 
        class="form-input" 
        type="text" 
        placeholder="请输入联系人姓名"
        value="{{form.name}}"
        data-field="name"
        bindinput="onInput"
        maxlength="20"
      />
    </view>

    <!-- 手机号 -->
    <view class="form-item">
      <text class="form-label">手机号</text>
      <input 
        class="form-input" 
        type="number" 
        placeholder="请输入手机号"
        value="{{form.phone}}"
        data-field="phone"
        bindinput="onInput"
        maxlength="11"
      />
    </view>

    <!-- 所在地区 -->
    <view class="form-item" bindtap="chooseRegion">
      <text class="form-label">所在地区</text>
      <view class="form-value {{form.region ? 'has-value' : ''}}">
        <text wx:if="{{form.region}}">{{form.region}}</text>
        <text class="placeholder" wx:else>请选择省市区</text>
      </view>
      <text class="arrow">></text>
    </view>

    <!-- 详细地址 -->
    <view class="form-item textarea-item">
      <text class="form-label">详细地址</text>
      <textarea 
        class="form-textarea" 
        placeholder="请输入街道、楼牌号等详细地址"
        value="{{form.detail}}"
        data-field="detail"
        bindinput="onInput"
        maxlength="100"
        auto-height
      />
    </view>

    <!-- 设为默认 -->
    <view class="form-item switch-item">
      <text class="form-label">设为默认地址</text>
      <switch 
        class="form-switch" 
        checked="{{form.isDefault}}"
        color="#D4A574"
        bindchange="onDefaultChange"
      />
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="footer">
    <button class="save-btn {{isValid ? 'active' : ''}}" bindtap="saveAddress">
      保存
    </button>
    <button class="delete-btn" wx:if="{{isEdit}}" bindtap="deleteAddress">
      删除地址
    </button>
  </view>
</view>

<!-- 地区选择器 -->
<picker-view 
  class="region-picker {{showRegionPicker ? 'show' : ''}}"
  indicator-style="height: 80rpx;"
  value="{{regionValue}}"
  bindchange="onRegionChange"
>
  <picker-view-column>
    <view wx:for="{{provinces}}" wx:key="code" class="picker-item">{{item.name}}</view>
  </picker-view-column>
  <picker-view-column>
    <view wx:for="{{cities}}" wx:key="code" class="picker-item">{{item.name}}</view>
  </picker-view-column>
  <picker-view-column>
    <view wx:for="{{districts}}" wx:key="code" class="picker-item">{{item.name}}</view>
  </picker-view-column>
</picker-view>

<!-- 遮罩层 -->
<view class="mask {{showRegionPicker ? 'show' : ''}}" bindtap="hideRegionPicker"></view>
